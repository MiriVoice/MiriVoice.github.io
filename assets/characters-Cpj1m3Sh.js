import{_ as q}from"./DynamicGridContainer.vue_vue_type_script_setup_true_lang-CSSvdKlc.js";import{_ as I}from"./DetailHelmet.vue_vue_type_script_setup_true_lang-CEpfJ0bm.js";import{_ as j}from"./Loading.vue_vue_type_script_setup_true_lang-Bm77rJai.js";import{d as _,c as l,e as t,r as O,f as p,n as $,h as b,b as s,X as R,i as u,o as C,j as T,t as d,F as v,k as y,a as m,w as P,v as z,g as A,l as M,u as N,m as U}from"./app-6WmMbC4U.js";import{a as S}from"./axios-Ce6w_M6R.js";const X={key:0,class:"fixed inset-0 flex justify-center items-center bg-gray-500 bg-opacity-50 z-40"},G=["src"],H=_({__name:"Modal",props:{isOpen:{type:Boolean,required:!0},closeModal:{type:Function,required:!0},width:{type:String,default:"auto"}},setup(e){return(c,a)=>e.isOpen?(s(),l("div",X,[t("div",{class:"bg-white p-6 rounded-md w-96 max-h-[90vh] relative sm:min-w-[90vw] sm:pt-8 z-50",style:$({width:e.width})},[O(c.$slots,"default"),t("button",{class:"absolute top-5 right-5 sm:top-3 sm:right-3",onClick:a[0]||(a[0]=(...o)=>e.closeModal&&e.closeModal(...o))},[t("img",{alt:"Modal Close",src:p(R)},null,8,G)])],4)])):b("",!0)}}),J="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2.5'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-chevron-down'%3e%3cpolyline%20points='6%209%2012%2015%2018%209'%3e%3c/polyline%3e%3c/svg%3e",K="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-play-circle'%3e%3ccircle%20cx='12'%20cy='12'%20r='10'%3e%3c/circle%3e%3cpolygon%20points='10%208%2016%2012%2010%2016%2010%208'%3e%3c/polygon%3e%3c/svg%3e",Q="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='feather%20feather-stop-circle'%3e%3ccircle%20cx='12'%20cy='12'%20r='10'%3e%3c/circle%3e%3crect%20x='9'%20y='9'%20width='6'%20height='6'%3e%3c/rect%3e%3c/svg%3e",W={class:"flex items-center justify-center"},Y=["src"],Z=["src"],ee=["src"],k=_({__name:"AudioPlayerButton",props:{src:String},setup(e){const c=e,a=u(!1),o=u(null),i=()=>{const r=o.value;r&&(a.value?(r.pause(),r.currentTime=0):(r.currentTime=0,r.play()),a.value=!a.value)},n=()=>{a.value=!1};return C(()=>{const r=o.value;r&&r.addEventListener("ended",n)}),T(()=>{const r=o.value;r&&r.removeEventListener("ended",n)}),(r,w)=>(s(),l("div",W,[t("button",{class:"p-0 bg-none border-none outline-none cursor-pointer transition-transform transform hover:scale-110 w-full h-full",onClick:i},[a.value?(s(),l("img",{key:1,src:p(Q),alt:"Stop Icon",class:"w-full h-full"},null,8,Z)):(s(),l("img",{key:0,src:p(K),alt:"Play Icon",class:"w-full h-full"},null,8,Y))]),t("audio",{ref_key:"audioRef",ref:o,src:c.src},null,8,ee)]))}}),te={class:"w-[340px] aspect-[34/62] flex flex-col flex-[10]"},ae=["src","alt"],se={class:"w-full flex-[1] flex flex-col justify-center items-center mt-2"},le={class:"font-jua text-3xl"},oe={class:"flex"},re={class:"px-1"},ne={class:"w-full flex-[2] p-4 flex flex-col"},ce={class:"flex-1 flex"},ie={class:"h-full flex-[0.4] flex items-center justify-center"},ue={class:"font-jua text-xl"},de={class:"h-full flex-[0.6] flex items-center justify-between pr-4"},he={class:"flex-1 flex"},fe={class:"h-full flex-[0.4] flex items-center justify-center"},me={class:"font-jua text-xl"},ge={class:"h-full flex-[0.6] flex items-center justify-between pr-4 relative"},ve=["value"],we={class:"absolute right-8 top-1/2 transform -translate-y-1/2 pointer-events-none"},xe=["src"],pe={key:1,class:"w-full flex-[1] rounded-3xl font-jua text-xl bg-[#E4E4E4]"},ye=_({__name:"CharacterCard",props:{character:{type:Object,required:!0},currentLanguage:{type:String,required:!0},openModal:{type:Function,required:!0}},setup(e){const c=e,a=u("");return C(()=>{a.value=c.character.style[0],console.log("currentLanguage: ".concat(c.currentLanguage," / character: ").concat(c.character," "))}),(o,i)=>(s(),l("div",te,[t("div",{class:"aspect-square w-full flex-[5]",style:$({backgroundColor:e.character.color})},[t("img",{src:"/characters/".concat(e.character.name.en.toLowerCase(),"/profile.png"),alt:e.character.name.en},null,8,ae)],4),t("div",se,[t("h3",le,d(e.character.name[e.currentLanguage]),1),t("ul",oe,[(s(!0),l(v,null,y(e.character.tag[e.currentLanguage],n=>(s(),l("li",re," #"+d(n),1))),256))])]),t("div",ne,[t("div",ce,[t("div",ie,[t("span",ue,d(o.$t("page.characters.character_text.sample")),1)]),t("div",de,[m(k,{class:"h-2/3",src:"/characters/".concat(e.character.name.en.toLowerCase(),"/samples/").concat(a.value.toLowerCase(),"/1.wav")},null,8,["src"]),m(k,{class:"h-2/3",src:"/characters/".concat(e.character.name.en.toLowerCase(),"/samples/").concat(a.value.toLowerCase(),"/2.wav")},null,8,["src"]),m(k,{class:"h-2/3",src:"/characters/".concat(e.character.name.en.toLowerCase(),"/samples/").concat(a.value.toLowerCase(),"/3.wav")},null,8,["src"])])]),t("div",he,[t("div",fe,[t("span",me,d(o.$t("page.characters.character_text.style")),1)]),t("div",ge,[P(t("select",{"onUpdate:modelValue":i[0]||(i[0]=n=>a.value=n),class:"appearance-none border border-black text-center rounded-md p-2 pr-10 text-gray-700 bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"},[(s(!0),l(v,null,y(e.character.style,n=>(s(),l("option",{key:n,value:n},d(n),9,ve))),128))],512),[[z,a.value]]),t("span",we,[t("img",{src:p(J),alt:"combobox arrow",class:"w-5 h-5"},null,8,xe)])])])]),e.character.isRelease&&!e.character.isDefaultVoicer?(s(),l("button",{key:0,onClick:i[1]||(i[1]=n=>e.openModal(e.character)),class:"w-full flex-[1] rounded-3xl font-jua text-xl",style:$({backgroundColor:e.character.color})},d(o.$t("page.characters.download_btn.download")),5)):(s(),l("button",pe,d(e.character.isRelease?o.$t("page.characters.download_btn.defaultvoicer"):o.$t("page.characters.download_btn.not_release")),1))]))}}),_e={class:"flex-grow"},ke={key:0,class:"w-full flex justify-center"},$e={class:"flex flex-col items-center"},be={class:"font-jua text-center text-3xl"},Ce={key:0,class:"overflow-y-scroll max-h-[50vh] md:mx-12 bg-[#F8F8F8] p-6 my-6"},De=_({__name:"characters",setup(e){const c={isDefaultVoicer:!0,isRelease:!1,color:"",name:{ko:"",en:""},tag:{ko:[""],en:[""]},style:[""],downloadLink:""},a=N(),o=u(c),i=u(""),n=u([""]),r=u(!1),w=u(!0),x=u(!0),L=u([c]),B=async h=>{if(!h.isDefaultVoicer&&!x.value){o.value=h,r.value=!0;const g=await S.get("/characters/".concat(h.name.en.toLowerCase(),"/readme.txt")).then(f=>f.data.split("\n")).catch(f=>{console.error(f),a.push("/error")});n.value=g,w.value=!1}},D=()=>r.value=!1,E=()=>window.open(o.value.downloadLink),F=async()=>{const h=await S.get("/characters/characters.json").then(g=>g.data).catch(g=>{console.error(g),a.push("/error")});L.value=h};return C(async()=>{i.value=A(),await F(),x.value=!1}),(h,g)=>(s(),l(v,null,[m(I,{url:"https://mirivoice.github.io/characters",description:"미리보이스는 모두를 위한 무료, 그리고 오픈소스 TTS 엔진입니다.","page-title":h.$t("helmet.characters.title")},null,8,["page-title"]),t("main",_e,[m(j,{"is-loading":x.value},null,8,["is-loading"]),x.value?b("",!0):(s(),l("div",ke,[m(q,{"child-width":356},{default:M(()=>[(s(!0),l(v,null,y(L.value,f=>(s(),U(ye,{key:f.name.en,character:f,"current-language":i.value,"open-modal":B},null,8,["character","current-language"]))),128))]),_:1})]))]),m(H,{width:"50vw",isOpen:r.value,closeModal:D},{default:M(()=>[t("div",$e,[t("h1",be,d(h.$t("page.characters.modal.teamsofuse",{name:o.value.name[i.value]})),1),m(j,{"is-loading":w.value},null,8,["is-loading"]),w.value?b("",!0):(s(),l("div",Ce,[(s(!0),l(v,null,y(n.value,(f,V)=>(s(),l("p",{class:"my-2",key:V},d(f),1))),128))])),t("button",{class:"bg-brand-color py-3 w-80 rounded-3xl font-jua text-2xl",onClick:E},d(h.$t("page.characters.modal.gotodownload")),1)])]),_:1},8,["isOpen"])],64))}});export{De as default};
